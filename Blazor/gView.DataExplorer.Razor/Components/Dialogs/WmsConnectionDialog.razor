@inherits ModalDialogFormBase<WmsConnectionModel>
@inject IApplicationScope AppScope

<ModalDialogFormBase T="WmsConnectionModel"
                       OnDialogClose="base.OnDialogClose"
                       Model="base.Model">
    <FormContent>

        <MudGrid Spacing="2" Justify="Justify.FlexEnd">
            <MudItem xs="8">
                <MudCard Elevation="2">
                    <MudCardContent>
                        <MudText Typo="Typo.h6">Service</MudText>
                        <MudSelect Variant="Variant.Filled"
                                    T="WmsConnectionType"
                                    @bind-Value="Model.ConnectionType">
                            @foreach (var val in Enum.GetValues<WmsConnectionType>())
                            {
                                <MudSelectItem Value="val">@val.ToString()</MudSelectItem>
                            }        
                        </MudSelect>

                        @if (Model.ConnectionType == WmsConnectionType.WMS ||
                             Model.ConnectionType == WmsConnectionType.WMS_WFS)
                        {
                            <MudTextField @bind-Value="Model.WmsUrl"
                                           Label="WMS Service Url" />
                        }

                        @if(Model.ConnectionType == WmsConnectionType.WFS ||
                            Model.ConnectionType == WmsConnectionType.WMS_WFS)
                        {
                            <MudTextField @bind-Value="Model.WfsUrl"
                                           Label="WFS Service Url" />
                        }

                        <MudTextField @bind-Value="Model.ServiceName"
                                      Label="Service Name (optional)" />

                    </MudCardContent>
                </MudCard>
            </MudItem>

            <MudItem xs="4">
                <MudCard Elevation="2">
                    <MudCardContent>
                        <MudText Typo="Typo.h6">Credentials (optional)</MudText>
                        <MudTextField @bind-Value="Model.Username"
                                      Label="Username" />

                        <MudTextField @bind-Value="Model.Password"
                                      InputType="InputType.Password"
                                          Label="Password" />
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>

    </FormContent>
</ModalDialogFormBase>

@code {

}