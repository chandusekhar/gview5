@inherits BaseHandler

<MudPaper Elevation="2">
    <MudCard>
        <MudCardContent>
            <MudText Typo="Typo.h6">Coordinate System/Projection</MudText>
            @if (SpatialReference != null)
            {
                <MudText Typo="Typo.body2">@SpatialReference.Name</MudText>
                <MudText Typo="Typo.body2">@SpatialReference.Description</MudText>
                <MudText Typo="Typo.caption">@String.Join(" ", SpatialReference.Parameters)</MudText>
            }
        </MudCardContent>
        <MudCardActions>
            <MudButton Variant="Variant.Text" 
                        Color="Color.Primary"
                        OnClick="SelectProjection">Select</MudButton>
        </MudCardActions>
    </MudCard>

    @if (SpatialReference != null)
    {
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.h6">Geodetic Datum</MudText>
                @if (SpatialReference.Datum != null)
                {
                    <MudText Typo="Typo.body2">@SpatialReference.Datum.Name</MudText>
                    <MudText Typo="Typo.caption">@SpatialReference.Datum.Parameter</MudText>
                }
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text"
                           Color="Color.Primary"
                           OnClick="SelectProjection">Select</MudButton>
            </MudCardActions>
        </MudCard>
    }
</MudPaper>

@code{
        [Parameter] public ISpatialReference? SpatialReference{ get; set; }
        [Parameter] public EventCallback OnSelectProjection { get; set; }

        private Task SelectProjection()
            => OnSelectProjection.InvokeAsync();
        
}