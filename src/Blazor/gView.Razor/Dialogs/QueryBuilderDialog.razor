@inherits ModalDialogFormBase<QueryBuilderModel>

<ModalDialogFormBase T="QueryBuilderModel"
                     OnDialogClose="base.OnDialogClose"
                     Model="base.Model">
    <DialogBody>
        <QueryBuilderControl TableClass="Model.TableClass"
                             QueryString="@Model.QueryString"
                             QueryStringChanged="(queryString) => Model.QueryString = queryString" />
    </DialogBody>
    <DialogButtons>
        <MudButton Variant="Variant.Filled" 
                   OnClick="() => base.Close()">
            Cancel
        </MudButton>

        @if (Model.CanSelect)
        {
            <MudButton Variant="Variant.Filled"
                       Color="Color.Primary"
                       OnClick="() => { Model.Select = true; return base.Submit(); }">
                Select Rows
            </MudButton>
        }

        <MudButton Variant="Variant.Filled"
                   Color="Color.Primary" 
                   OnClick="() => base.Submit()">
            Confirm
        </MudButton>
    </DialogButtons>
</ModalDialogFormBase>

@code {
}